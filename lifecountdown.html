<!DOCTYPE HTML>
<html>
	<head>
		<title>FFviz</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
		<!-- Bootstrap CSS for Styling -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
		<!-- Plotly.js for Charts -->
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
		<!-- Font Awesome for Icons -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHq6FRXspWBRRZfr1kZ1E3K4GQ9ChfDjlEUB+Nd2cTzYnPJXavpE6OaKcFhM10LepbqQpOAQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
		<style>
			body {
				background-color: #f8f9fa;
				padding-top: 20px;
			}
			.container {
				max-width: 900px;
			}
			.metric-box {
				background-color: #ffffff;
				border-radius: 8px;
				padding: 20px;
				margin: 10px;
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
				text-align: center;
			}
			.quirky-box {
				background-color: #fff3cd;
				border-radius: 8px;
				padding: 20px;
				margin: 10px;
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
				text-align: center;
			}
			.header-title {
				text-align: center;
				color: #28a745;
				margin-bottom: 30px;
			}
			.btn-custom {
				background-color: #28a745;
				color: white;
			}
			.btn-custom:hover {
				background-color: #218838;
				color: white;
			}
			#lifeCountdownContainer {
				background-color: #ffffff;
				border-radius: 8px;
				padding: 30px;
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
				margin-bottom: 30px;
			}
			#lifeCountdownContainer h2 {
				color: #28a745;
				margin-bottom: 20px;
			}
		</style>
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">
		<!-- Wrapper -->
		<div id="wrapper">

			<!-- Header -->
			<header id="header">
				<div class="inner">

					<!-- Logo -->
					<a href="index.html" class="logo">
						<span class="symbol"><img src="images/ffviz-logo.png" alt="" /></span><span class="title">FFviz</span>
					</a>

					<!-- Nav -->
					<nav>
						<ul>
							<li><a href="#menu">Menu</a></li>
						</ul>
					</nav>

				</div>
			</header>

			<!-- Menu -->
			<nav id="menu">
				<h2>Menu</h2>
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="rzleaders.html">Red Zone Target Leaders</a></li>
					<li><a href="rzweek1.html">Red Zone Targets Week 1</a></li>
				</ul>
			</nav>

			<!-- Main Content -->
			<div id="main">
				<div class="inner">
					<h1>Red Zone Target Leaders</h1>

					<!-- Life Countdown Tool -->
					<div id="lifeCountdownContainer" class="mt-5">
						<h2>üéâ Life Countdown üéâ</h2>
						<form id="lifeForm">
							<div class="mb-3">
								<label for="birthdate" class="form-label">üìÖ Enter Your Birthdate:</label>
								<input type="date" class="form-control" id="birthdate" required>
							</div>
							<button type="submit" class="btn btn-custom">üîç Calculate</button>
						</form>

						<!-- Output Section -->
						<div id="output" style="display: none; margin-top: 30px;">
							<!-- Basic Metrics -->
							<div class="row">
								<div class="col-md-3 metric-box">
									<h4>üìÖ Birthdate</h4>
									<p id="metricBirthdate"></p>
								</div>
								<div class="col-md-3 metric-box">
									<h4>üìÖ Today</h4>
									<p id="metricToday"></p>
								</div>
								<div class="col-md-3 metric-box">
									<h4>üéÇ Age</h4>
									<p id="metricAge"></p>
								</div>
								<div class="col-md-3 metric-box">
									<h4>üéØ Life Expectancy</h4>
									<p id="metricLifeExpectancy"></p>
								</div>
							</div>

							<!-- Donut Chart -->
							<div class="my-4">
								<div id="donutChart"></div>
							</div>

							<!-- Detailed Metrics -->
							<div class="row">
								<div class="col-md-3 metric-box">
									<h4>üìÖ Days Lived</h4>
									<p id="metricDaysLived"></p>
								</div>
								<div class="col-md-3 metric-box">
									<h4>‚è≥ Days Remaining</h4>
									<p id="metricDaysRemaining"></p>
								</div>
								<div class="col-md-3 metric-box">
									<h4>üìà Percentage Lived</h4>
									<p id="metricPercentageLived"></p>
								</div>
								<div class="col-md-3 metric-box">
									<h4>üïí Time Lived</h4>
									<p id="metricTimeLived"></p>
								</div>
							</div>
							<div class="row">
								<div class="col-md-3 metric-box">
									<h4>üéÇ Days Until Next Birthday</h4>
									<p id="metricDaysUntilBirthday"></p>
								</div>
							</div>

							<!-- Quirky Metrics -->
							<h2 class="text-center text-warning my-4">üï∫ Quirky Metrics üï∫</h2>
							<div class="row">
								<div class="col-md-2 quirky-box">
									<h5>‚ù§Ô∏è Heartbeats</h5>
									<p id="metricHeartbeats"></p>
								</div>
								<div class="col-md-2 quirky-box">
									<h5>üí® Breaths Taken</h5>
									<p id="metricBreaths"></p>
								</div>
								<div class="col-md-2 quirky-box">
									<h5>‚òï Cups of Coffee</h5>
									<p id="metricCupsCoffee"></p>
								</div>
								<div class="col-md-2 quirky-box">
									<h5>üé¨ Movies Watched</h5>
									<p id="metricMovies"></p>
								</div>
								<div class="col-md-2 quirky-box">
									<h5>üìö Books Read</h5>
									<p id="metricBooks"></p>
								</div>
							</div>

							<!-- Animated Gauge Chart -->
							<div class="my-4">
								<div id="gaugeChart"></div>
							</div>
						</div>
					</div>
					<!-- End of Life Countdown Tool -->

					<!-- Remove existing chart and team selector
					<div id="team-selector-container" style="margin-bottom: 20px;"></div>
					<div id="chart" style="width:100%; height:800px;"></div>
					-->

					<!-- Existing Scripts for Other Features -->
					<!-- More content here -->
				</div>
			</div>

			<!-- Footer -->
			<footer id="footer">

				<!-- Tally Form Embed -->
				<section id="tallyForm" class="wrapper style2 special">
					<div class="inner">
						<header class="major">
							<h2>Subscribe</h2>
						</header>
						<iframe data-tally-src="https://tally.so/embed/mRRE7K?alignLeft=1&hideTitle=1&dynamicHeight=1" loading="lazy" height="120" frameborder="0" marginheight="0" marginwidth="0" title="Email Subscription Form"></iframe>
						<script>
							var d=document,w="https://tally.so/widgets/embed.js",v=function(){"undefined"!=typeof Tally?Tally.loadEmbeds():d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach(function(e){e.src=e.dataset.tallySrc})};
							if("undefined"!=typeof Tally)v();
							else if(d.querySelector('script[src="'+w+'"]')==null){var s=d.createElement("script");s.src=w,s.onload=v,s.onerror=v,d.body.appendChild(s);}
						</script>
					</div>
				</section>
				<!--
				<section>
					<h2>Socials</h2>
					<ul class="icons">
						<li><a href="#" class="icon brands style2 fa-instagram"><span class="label">Instagram</span></a></li>
						<li><a href="hello@ffviz.com" class="icon solid style2 fa-envelope"><span class="label">Email</span></a></li>
					</ul>
				</section>
				-->
				<div style="padding-top: 2em;" class="copyright">
					<li>&copy; FFviz üèàüìà| All rights reserved</li>
				</div>

			</footer>

		</div>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>

		<!-- Bootstrap JS for Interactivity -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

		<!-- Life Countdown Script -->
		<script>
			// Function to calculate life metrics
			function calculateLifeMetrics(birthdate) {
				const today = new Date();
				const birth = new Date(birthdate);
				const delta = today - birth;
				const daysLived = Math.floor(delta / (1000 * 60 * 60 * 24));
				const lifeExpectancyYears = 80; // Fixed average life expectancy
				const expectedLifespanDays = lifeExpectancyYears * 365.25;
				const daysRemaining = expectedLifespanDays - daysLived;
				const percentageLived = (daysLived / expectedLifespanDays) * 100;
				const hoursLived = daysLived * 24;
				const minutesLived = hoursLived * 60;
				const secondsLived = minutesLived * 60;

				// Next birthday
				let nextBirthday = new Date(birth);
				nextBirthday.setFullYear(today.getFullYear());
				if (nextBirthday < today) {
					nextBirthday.setFullYear(today.getFullYear() + 1);
				}
				const daysUntilBirthday = Math.ceil((nextBirthday - today) / (1000 * 60 * 60 * 24));

				// Quirky Metrics based on fixed estimates
				const heartbeats = Math.floor((secondsLived / 60) * 70); // 70 beats per minute
				const breaths = Math.floor((secondsLived / 60) * 12); // 12 breaths per minute
				const cupsCoffee = Math.floor(daysLived * 1.5); // 1.5 cups per day
				const moviesWatched = Math.floor((daysLived / 365.25) * 2.5); // 2.5 movies per year
				const booksRead = Math.floor((daysLived / 365.25) * 12); // 12 books per year

				return {
					birthdate: birth.toISOString().split('T')[0],
					today: today.toISOString().split('T')[0],
					age: (daysLived / 365.25).toFixed(2),
					lifeExpectancy: lifeExpectancyYears,
					daysLived: daysLived.toLocaleString(),
					daysRemaining: Math.max(Math.floor(daysRemaining), 0).toLocaleString(),
					percentageLived: percentageLived.toFixed(2),
					timeLived: `${hoursLived.toLocaleString()} hours<br>${minutesLived.toLocaleString()} minutes<br>${secondsLived.toLocaleString()} seconds`,
					daysUntilBirthday: daysUntilBirthday.toLocaleString(),
					heartbeats: heartbeats.toLocaleString(),
					breaths: breaths.toLocaleString(),
					cupsCoffee: cupsCoffee.toLocaleString(),
					moviesWatched: moviesWatched.toLocaleString(),
					booksRead: booksRead.toLocaleString()
				};
			}

			// Function to create donut chart
			function createDonutChart(percentage) {
				const data = [{
					values: [percentage, 100 - percentage],
					labels: ['Lived', 'Remaining'],
					type: 'pie',
					hole: 0.5,
					marker: {
						colors: ['#28a745', '#d3d3d3']
					},
					hoverinfo: 'none'
				}];

				const layout = {
					showlegend: false,
					annotations: [{
						text: `${percentage}%`,
						font: {
							size: 20
						},
						showarrow: false
					}],
					height: 300,
					width: 300
				};

				Plotly.newPlot('donutChart', data, layout);
			}

			// Function to create gauge chart
			function createGaugeChart(percentage) {
				const data = [
					{
						type: "indicator",
						mode: "gauge+number",
						value: percentage,
						title: { text: "üéØ Life Progress", font: { size: 24 } },
						gauge: {
							axis: { range: [0, 100] },
							bar: { color: "#28a745" },
							steps: [
								{ range: [0, 50], color: "#d3d3d3" },
								{ range: [50, 100], color: "#28a745" }
							],
							threshold: {
								line: { color: "red", width: 4 },
								thickness: 0.75,
								value: percentage
							}
						}
					}
				];

				const layout = { width: 400, height: 300 };

				Plotly.newPlot('gaugeChart', data, layout);
			}

			// Function to display metrics
			function displayMetrics(metrics) {
				document.getElementById('output').style.display = 'block';
				document.getElementById('metricBirthdate').innerHTML = metrics.birthdate;
				document.getElementById('metricToday').innerHTML = metrics.today;
				document.getElementById('metricAge').innerHTML = `${metrics.age} years`;
				document.getElementById('metricLifeExpectancy').innerHTML = `${metrics.lifeExpectancy} years`;
				document.getElementById('metricDaysLived').innerHTML = `${metrics.daysLived} days`;
				document.getElementById('metricDaysRemaining').innerHTML = `${metrics.daysRemaining} days`;
				document.getElementById('metricPercentageLived').innerHTML = `${metrics.percentageLived}%`;
				document.getElementById('metricTimeLived').innerHTML = metrics.timeLived;
				document.getElementById('metricDaysUntilBirthday').innerHTML = `${metrics.daysUntilBirthday} days`;
				document.getElementById('metricHeartbeats').innerHTML = metrics.heartbeats;
				document.getElementById('metricBreaths').innerHTML = metrics.breaths;
				document.getElementById('metricCupsCoffee').innerHTML = metrics.cupsCoffee;
				document.getElementById('metricMovies').innerHTML = metrics.moviesWatched;
				document.getElementById('metricBooks').innerHTML = metrics.booksRead;

				createDonutChart(metrics.percentageLived);
				createGaugeChart(metrics.percentageLived);
			}

			// Event Listener for Form Submission
			document.getElementById('lifeForm').addEventListener('submit', function(e) {
				e.preventDefault();
				const birthdate = document.getElementById('birthdate').value;

				if (!birthdate) {
					alert("‚ùå Please select a valid birthdate.");
					return;
				}

				const metrics = calculateLifeMetrics(birthdate);
				displayMetrics(metrics);
			});
		</script>
	</body>
</html>
